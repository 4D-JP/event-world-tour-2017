  //%attributes = {"invisible":true,"publishedWeb":true,"lang":"en"} comment added and reserved by 4D.C_TEXT:C284($1)ARRAY TEXT:C222($names;0)ARRAY TEXT:C222($values;0)WEB GET VARIABLES:C683($names;$values)C_OBJECT:C1216($params)For ($i;1;Size of array:C274($names))	OB SET:C1220($params;$names{$i};$values{$i})End for C_LONGINT:C283($id;$table;$width;$height)$id:=OB Get:C1224($params;"id";Is longint:K8:6)$table:=OB Get:C1224($params;"table";Is longint:K8:6)$width:=OB Get:C1224($params;"width";Is longint:K8:6)$height:=OB Get:C1224($params;"height";Is longint:K8:6)C_BLOB:C604($PNG)Case of 	: ($table=1)		QUERY:C277([Contacts:2];[Contacts:2]ID:1=$id)		$image:=[Contacts:2]Photo:23		If ($width>0) & ($height>0)			CREATE THUMBNAIL:C679($image;$image;$width;$height)		End if 		PICTURE TO BLOB:C692($image;$PNG;".png")End case WEB SEND BLOB:C654($PNG;"image/png")